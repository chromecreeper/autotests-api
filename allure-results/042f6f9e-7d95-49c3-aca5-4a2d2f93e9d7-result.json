{"name": "Update exercise", "status": "broken", "statusDetails": {"message": "NameError: name 'Draft202012Validator' is not defined", "trace": "self = <tests.exercises.test_exercises.TestExercises object at 0x107545790>\nexercises_client = <clients.exercises.exercises_client.ExercisesClient object at 0x10783f550>\nfunction_exercise = ExerciseFixture(request=CreateExerciseRequestSchema(title='Member sea amount them.', course_id='5f5ae656-8b3f-44ba-858...lar contain. Across detail per ago want.\\nLaugh parent contain power a country attention.', estimated_time='1 weeks')))\n\n    @allure.title(\"Update exercise\")\n    @allure.story(AllureStory.UPDATE_ENTITY)\n    @allure.sub_suite(AllureStory.UPDATE_ENTITY)\n    def test_update_exercise(self, exercises_client: ExercisesClient, function_exercise: ExerciseFixture):\n    \n        request = UpdateExerciseRequestSchema()\n        response = exercises_client.update_exercise_api(function_exercise.response.exercise.id, request)\n        response_data = UpdateExerciseResponseSchema.model_validate_json(response.text)\n    \n        assert_status_code(response.status_code, HTTPStatus.OK)\n        assert_update_exercise_response(request, response_data)\n    \n>       validate_json_schema(response.json(), response_data.model_json_schema())\n\ntests/exercises/test_exercises.py:76: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _\n\ninstance = {'exercise': {'courseId': '5f5ae656-8b3f-44ba-858e-017b030e4548', 'description': 'Among opportunity couple decision mu... data if. Model pull wonder can need.', 'estimatedTime': '3 weeks', 'id': '5e32705a-33d1-4e78-a023-80f5c83bbfa7', ...}}\nschema = {'$defs': {'ExerciseSchema': {'description': 'Описание структуры задания.', 'properties': {'courseId': {'title': 'Cour...та обновления задания.', 'properties': {'exercise': {'$ref': '#/$defs/ExerciseSchema'}}, 'required': ['exercise'], ...}\n\n    @allure.step(\"Validating JSON schema\")\n    def validate_json_schema(instance: Any, schema: dict) -> None:\n        \"\"\"\n        Проверяет, соответствует ли JSON-объект (instance) заданной JSON-схеме (schema).\n    \n        :param instance: JSON-данные, которые нужно проверить.\n        :param schema: Ожидаемая JSON-schema.\n        :raises jsonschema.exceptions.ValidationError: Если instance не соответствует schema.\n        \"\"\"\n        # Логируем факт начала валидации\n        logger.info(\"Validating JSON schema\")\n    \n        validate(\n            schema=schema,\n            instance=instance,\n>           format_checker=Draft202012Validator.FORMAT_CHECKER,\n                           ^^^^^^^^^^^^^^^^^^^^\n        )\nE       NameError: name 'Draft202012Validator' is not defined\n\ntools/assertions/schema.py:25: NameError"}, "steps": [{"name": "Update exercise", "status": "passed", "steps": [{"name": "Make PATCH request to '/api/v1/exercises/5e32705a-33d1-4e78-a023-80f5c83bbfa7'", "status": "passed", "attachments": [{"name": "cURL command", "source": "e4249723-0a5b-4f0a-8447-8f8292f65517-attachment.txt", "type": "text/plain"}], "parameters": [{"name": "url", "value": "'/api/v1/exercises/5e32705a-33d1-4e78-a023-80f5c83bbfa7'"}, {"name": "json", "value": "{'title': 'Statement wrong front cup partner class water animal.', 'maxScore': 91, 'minScore': 24, 'orderIndex': 14, 'description': 'Among opportunity couple decision much operation stand. Treat expect shoulder service trial my. Already data if. Model pull wonder can need.', 'estimatedTime': '3 weeks'}"}], "start": 1752506423484, "stop": 1752506423491}], "parameters": [{"name": "exercise_id", "value": "'5e32705a-33d1-4e78-a023-80f5c83bbfa7'"}, {"name": "request", "value": "UpdateExerciseRequestSchema(title='Statement wrong front cup partner class water animal.', max_score=91, min_score=24, order_index=14, description='Among opportunity couple decision much operation stand. Treat expect shoulder service trial my. Already data if. Model pull wonder can need.', estimated_time='3 weeks')"}], "start": 1752506423484, "stop": 1752506423491}, {"name": "Check that response status code equals to <HTTPStatus.OK: 200>", "status": "passed", "parameters": [{"name": "actual", "value": "200"}, {"name": "expected", "value": "<HTTPStatus.OK: 200>"}], "start": 1752506423492, "stop": 1752506423492}, {"name": "Check update exercise response", "status": "passed", "steps": [{"name": "Check that 'title' equals to 'Statement wrong front cup partner class water animal.'", "status": "passed", "parameters": [{"name": "actual", "value": "'Statement wrong front cup partner class water animal.'"}, {"name": "expected", "value": "'Statement wrong front cup partner class water animal.'"}, {"name": "name", "value": "'title'"}], "start": 1752506423492, "stop": 1752506423492}, {"name": "Check that 'max_score' equals to 91", "status": "passed", "parameters": [{"name": "actual", "value": "91"}, {"name": "expected", "value": "91"}, {"name": "name", "value": "'max_score'"}], "start": 1752506423492, "stop": 1752506423492}, {"name": "Check that 'min_score' equals to 24", "status": "passed", "parameters": [{"name": "actual", "value": "24"}, {"name": "expected", "value": "24"}, {"name": "name", "value": "'min_score'"}], "start": 1752506423492, "stop": 1752506423492}, {"name": "Check that 'order_index' equals to 14", "status": "passed", "parameters": [{"name": "actual", "value": "14"}, {"name": "expected", "value": "14"}, {"name": "name", "value": "'order_index'"}], "start": 1752506423492, "stop": 1752506423492}, {"name": "Check that 'description' equals to 'Among opportunity couple decision much operation stand. Treat expect shoulder service trial my. Already data if. Model pull wonder can need.'", "status": "passed", "parameters": [{"name": "actual", "value": "'Among opportunity couple decision much operation stand. Treat expect shoulder service trial my. Already data if. Model pull wonder can need.'"}, {"name": "expected", "value": "'Among opportunity couple decision much operation stand. Treat expect shoulder service trial my. Already data if. Model pull wonder can need.'"}, {"name": "name", "value": "'description'"}], "start": 1752506423492, "stop": 1752506423492}, {"name": "Check that 'estimated_time' equals to '3 weeks'", "status": "passed", "parameters": [{"name": "actual", "value": "'3 weeks'"}, {"name": "expected", "value": "'3 weeks'"}, {"name": "name", "value": "'estimated_time'"}], "start": 1752506423492, "stop": 1752506423492}], "parameters": [{"name": "request", "value": "UpdateExerciseRequestSchema(title='Statement wrong front cup partner class water animal.', max_score=91, min_score=24, order_index=14, description='Among opportunity couple decision much operation stand. Treat expect shoulder service trial my. Already data if. Model pull wonder can need.', estimated_time='3 weeks')"}, {"name": "response", "value": "UpdateExerciseResponseSchema(exercise=ExerciseSchema(id='5e32705a-33d1-4e78-a023-80f5c83bbfa7', title='Statement wrong front cup partner class water animal.', course_id='5f5ae656-8b3f-44ba-858e-017b030e4548', max_score=91, min_score=24, order_index=14, description='Among opportunity couple decision much operation stand. Treat expect shoulder service trial my. Already data if. Model pull wonder can need.', estimated_time='3 weeks'))"}], "start": 1752506423492, "stop": 1752506423492}, {"name": "Validating JSON schema", "status": "broken", "statusDetails": {"message": "NameError: name 'Draft202012Validator' is not defined\n", "trace": "  File \"/Users/basmakovoleg/my-git-projects/autotests-api/.venv/lib/python3.11/site-packages/allure_commons/_allure.py\", line 202, in impl\n    return func(*a, **kw)\n           ^^^^^^^^^^^^^^\n  File \"/Users/basmakovoleg/my-git-projects/autotests-api/tools/assertions/schema.py\", line 25, in validate_json_schema\n    format_checker=Draft202012Validator.FORMAT_CHECKER,\n                   ^^^^^^^^^^^^^^^^^^^^\n"}, "parameters": [{"name": "instance", "value": "{'exercise': {'id': '5e32705a-33d1-4e78-a023-80f5c83bbfa7', 'title': 'Statement wrong front cup partner class water animal.', 'courseId': '5f5ae656-8b3f-44ba-858e-017b030e4548', 'maxScore': 91, 'minScore': 24, 'orderIndex': 14, 'description': 'Among opportunity couple decision much operation stand. Treat expect shoulder service trial my. Already data if. Model pull wonder can need.', 'estimatedTime': '3 weeks'}}"}, {"name": "schema", "value": "{'$defs': {'ExerciseSchema': {'description': 'Описание структуры задания.', 'properties': {'id': {'title': 'Id', 'type': 'string'}, 'title': {'title': 'Title', 'type': 'string'}, 'courseId': {'title': 'Courseid', 'type': 'string'}, 'maxScore': {'title': 'Maxscore', 'type': 'integer'}, 'minScore': {'title': 'Minscore', 'type': 'integer'}, 'orderIndex': {'title': 'Orderindex', 'type': 'integer'}, 'description': {'title': 'Description', 'type': 'string'}, 'estimatedTime': {'title': 'Estimatedtime', 'type': 'string'}}, 'required': ['id', 'title', 'courseId', 'maxScore', 'minScore', 'orderIndex', 'description', 'estimatedTime'], 'title': 'ExerciseSchema', 'type': 'object'}}, 'description': 'Описание структуры ответа обновления задания.', 'properties': {'exercise': {'$ref': '#/$defs/ExerciseSchema'}}, 'required': ['exercise'], 'title': 'UpdateExerciseResponseSchema', 'type': 'object'}"}], "start": 1752506423492, "stop": 1752506423492}], "attachments": [{"name": "log", "source": "7a5488b1-78d6-4603-8928-82b5a8fe9804-attachment.txt", "type": "text/plain"}], "start": 1752506423484, "stop": 1752506423493, "uuid": "0775971b-b19b-4a8e-9164-2bcba7679432", "historyId": "444a31133f38814e0e901b5a7503702f", "testCaseId": "444a31133f38814e0e901b5a7503702f", "fullName": "tests.exercises.test_exercises.TestExercises#test_update_exercise", "labels": [{"name": "tag", "value": "EXERCISES"}, {"name": "tag", "value": "REGRESSION"}, {"name": "suite", "value": "Exercises"}, {"name": "feature", "value": "Exercises"}, {"name": "parentSuite", "value": "LMS service"}, {"name": "epic", "value": "LMS service"}, {"name": "subSuite", "value": "Update entity"}, {"name": "story", "value": "Update entity"}, {"name": "tag", "value": "regression"}, {"name": "tag", "value": "exercises"}, {"name": "host", "value": "MacBook-Pro-Tochka-2.local"}, {"name": "thread", "value": "20295-MainThread"}, {"name": "framework", "value": "pytest"}, {"name": "language", "value": "cpython3"}, {"name": "package", "value": "tests.exercises.test_exercises"}]}